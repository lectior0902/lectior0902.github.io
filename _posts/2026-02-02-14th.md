---
layout: single
published: true
title: "26.02.02. 데일리미션: plotly (~ Plotly 그래프 여러 개로 나누기/겹쳐서 생성)"
---

# Plotly 그래프 축과 그리드 관련 설정, 여러 개로 나누거나 겹쳐서 생성



```python
from google.colab import drive
drive.mount('/content/drive')
```

    Mounted at /content/drive



```python
!jupyter nbconvert --to markdown "/content/drive/MyDrive/구름 생성AI/구름exp/26.02.02 데일리미션.ipynb"
```



#**Plotly 그래프를 생성하여, 축과 그리드 관련 설정**


```python
import plotly.express as px

# iris 데이터
df = px.data.iris()
```


```python
# 1. Figure 생성: 종별(species)로 서브플롯 만들기
fig = px.scatter(df, x = "sepal_width", y = "sepal_length",
                 color = "species", facet_col = "species",
                 title = "< 축과 그리드 관련 설정 >")

# 2. 축 스타일 편집하기 (showline, linewidth, linecolor, mirror)
# 축에 굵은 검정색 선을 추가하고, mirror = True를 적용하여 표를 닫아줌
fig.update_xaxes(showline = True, linewidth = 2, linecolor = 'black', mirror = True)
fig.update_yaxes(showline = True, linewidth = 2, linecolor = 'black', mirror = True)

# 3. 그리드 스타일 편집하기 (minor_showgrid, griddash)
# 메인 그리드는 옅은 Black 점선, minor 그리드는 LightBlue 점선으로 설정함
fig.update_xaxes(minor_showgrid = True, griddash = 'dot', gridcolor = 'Black',
                 minor_griddash = 'dot', minor_gridcolor = 'LightBlue')

fig.update_yaxes(minor_showgrid = True, griddash = 'dot', gridcolor = 'Black',
                 minor_griddash = 'dot', minor_gridcolor = 'LightBlue')

fig.show()
```

<img width="763" height="525" alt="newplot (2)" src="https://github.com/user-attachments/assets/cd2cc43c-3e26-470b-b7fd-c3197a77685b" />



#**Plotly 그래프를 여러 개로 나누거나 겹쳐서 생성**


```python
import plotly.graph_objects as go
import numpy as np
```


```python
# tip 데이터
df2 = px.data.tips()
```


```python
# 1. Base 그래프 그리기
fig2 = go.Figure()
fig2 = px.scatter(df2, x = "total_bill", y = "tip",
                 title = "< 여러 개의 그래프 겹쳐 그리기 >")

# 2. 추가할 그래프 그리기 (add_trace)
# total_bill을 순서대로 정렬 후, 5개씩 묶어서 평균내기
df_total = df2.sort_values('total_bill')
df_total['moving_avg'] = df_total['tip'].rolling(window = 5).mean()

fig2.add_trace(go.Scatter(
    x = df_total['total_bill'],
    y = df_total['moving_avg'],
    mode = 'lines+markers',
    name = '이동평균',
    line=dict(color='green', width = 2)
))
fig2.show()
```



<img width="763" height="525" alt="newplot (3)" src="https://github.com/user-attachments/assets/08ca6619-ed41-473d-83ba-f867656575a7" />



```python
from plotly.subplots import make_subplots

fig = make_subplots(rows=1, cols=2, subplot_titles=("Random", "이동평균"))

# 데이터 생성
N = 50
random_x = np.linspace(0, 10, N)
random_y = np.random.randn(N)

# 첫 번째 그래프 추가
fig.add_trace(
    go.Scatter(x=random_x, y=random_y, mode='lines+markers'),
    row=1, col=1
)

# 두 번째 그래프 추가
graph_y = np.cumsum(np.random.randn(N))
fig.add_trace(
    go.Scatter(x=random_x, y=graph_y, mode='lines+markers'),
    row=1, col=2
)


# 레이아웃 설정
fig.update_layout(title_text="plotly 나눠그리기")
fig.show()
```

<img width="763" height="525" alt="newplot (4)" src="https://github.com/user-attachments/assets/85130153-b4db-4572-be83-79205ad2aaea" />
