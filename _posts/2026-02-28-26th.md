---
layout: single
published: true
title: "26.02.21. ë°ì¼ë¦¬ë¯¸ì…˜: Neo4j ê·¸ë˜í”„ ë°ì´í„°ë² ì´ìŠ¤ ì´í•´ì™€ RDBMS ë¦¬íŒ©í† ë§"
date: 2026-02-28
tags: [Database, Neo4j, GraphDB, Cypher, NoSQL]
---

# Neo4j ê·¸ë˜í”„ ë°ì´í„°ë² ì´ìŠ¤

<img width="500" height="265" alt="ê·¸ë¦¼3" src="https://github.com/user-attachments/assets/db5cde95-2f96-44c9-b7a0-8381bf830d53" />

ì¶œì²˜: https://wikidocs.net/book/3724

---

## 1. Neo4j ê¸°ë³¸ ì»¨ì…‰ ì´í•´

Neo4jëŠ” ë°ì´í„°ë¥¼ **'ì†ì„± ê·¸ë˜í”„(Property Graph)'** ëª¨ë¸ë¡œ ì €ì¥í•˜ëŠ” ëŒ€í‘œì ì¸ ê·¸ë˜í”„ ë°ì´í„°ë² ì´ìŠ¤ì„.

- **ë…¸ë“œ(Node)**: ì‹¤ì²´(Entity)ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ê¸°ë³¸ ë‹¨ìœ„. ê´„í˜¸ `()`ë¡œ í‘œí˜„. (ex. `(Person)`)
- **ë ˆì´ë¸”(Label)**: ë…¸ë“œë¥¼ ê·¸ë£¹í™”í•˜ëŠ” ì¹´í…Œê³ ë¦¬. í•œ ë…¸ë“œëŠ” ì—¬ëŸ¬ ë ˆì´ë¸”ì„ ê°€ì§ˆ ìˆ˜ ìˆìŒ. (ex. `:Person`, `:Actor`)
- **ê´€ê³„(Relationship)**: ë…¸ë“œ ê°„ì˜ ì—°ê²°. í•­ìƒ ë°©í–¥ì„±ê³¼ **ìœ í˜•(Type)**ì„ ê°€ì§. ëŒ€ê´„í˜¸ `[]`ì™€ í™”ì‚´í‘œ `-->`ë¡œ í‘œí˜„. (ex. `-[:FRIEND_OF]->`)
- **ì†ì„±(Property)**: ë…¸ë“œì™€ ê´€ê³„ì— ë‹´ê¸°ëŠ” í‚¤-ê°’(Key-Value) í˜•íƒœì˜ ìƒì„¸ ì •ë³´.
- **ì¸ë±ìŠ¤ ììœ  ì¸ì ‘(Index-free Adjacency)**: ê´€ê³„ê°€ ë¬¼ë¦¬ì ìœ¼ë¡œ ì—°ê²°ë˜ì–´ ìˆì–´ ë³„ë„ì˜ join ì—°ì‚° ì—†ì´ í¬ì¸í„°ë¥¼ ë”°ë¼ ì¦‰ê°ì ì¸ íƒìƒ‰(Traversal)ì´ ê°€ëŠ¥í•¨.



---

## 2. GraphDB ì´ë¡ : RDBMS vs GraphDB

### ğŸ“Š ì£¼ìš” ì°¨ì´ì  ë¹„êµ

| êµ¬ë¶„ | ê´€ê³„í˜• DB (RDBMS) | ê·¸ë˜í”„ DB (GraphDB) |
| :--- | :--- | :--- |
| **ë°ì´í„° êµ¬ì¡°** | í…Œì´ë¸” (í–‰ê³¼ ì—´) | ë…¸ë“œì™€ ê´€ê³„ (ë„¤íŠ¸ì›Œí¬) |
| **ì—°ê²° ë°©ì‹** | ì™¸ë˜í‚¤(FK)ì™€ Join (ëŸ°íƒ€ì„ ê³„ì‚°) | ì§ì ‘ì ì¸ ë¬¼ë¦¬ì  ì—°ê²° (ì €ì¥ ì‹œ ìƒì„±) |
| **ìŠ¤í‚¤ë§ˆ** | ì—„ê²©í•˜ê³  ê³ ì •ì ì„ | ìœ ì—°í•˜ë©° ë°ì´í„°ì™€ í•¨ê»˜ ì§„í™”í•¨ |
| **íƒìƒ‰ ì„±ëŠ¥** | ë°ì´í„° ë° Join ì¦ê°€ ì‹œ ì„±ëŠ¥ ì €í•˜ | ê´€ê³„ì˜ ê¹Šì´ê°€ ê¹Šì–´ì ¸ë„ ì¼ì •í•œ ì„±ëŠ¥ ìœ ì§€ |

### âœ… ì¥ë‹¨ì  ìš”ì•½
- **ì¥ì **: ë‹¤ëŒ€ë‹¤(N:M) ê´€ê³„ì˜ ì§ê´€ì  ëª¨ë¸ë§, ì‹¤ì‹œê°„ ì¶”ì²œ ë° ì´ìƒ íƒì§€(FDS)ì— íƒì›”, ìœ ì—°í•œ êµ¬ì¡° ë³€ê²½.
- **ë‹¨ì **: ì „ì²´ ë°ì´í„° ìŠ¤ìº” ë° ë‹¨ìˆœ ì§‘ê³„ ì‘ì—… ì‹œ RDBMS ëŒ€ë¹„ ë¹„íš¨ìœ¨ì ì¼ ìˆ˜ ìˆìŒ.

---

## 3. CQL(Cypher Query Language) ì´í•´ ë° ì‹¤ìŠµ

CypherëŠ” 'ASCII Art' ë°©ì‹ì„ ì°¨ìš©í•´ì„œ ì‚¬ëŒì´ ì½ê¸° ì‰½ë„ë¡ í•œ ì„ ì–¸í˜• ì¿¼ë¦¬ ì–¸ì–´ë¥¼ ë§í•œë‹¤.

### ğŸ“ Queryë¬¸

```cypher
// Sally, John, ë„ì„œ ë…¸ë“œ ìƒì„±
CREATE (s:Person {name: 'Sally', age: 32})
CREATE (j:Person {name: 'John', age: 27})
CREATE (b:Book {title: 'Graph Database', authors: ['Ian Robinson', 'Jim Webber']})

// ì¹œêµ¬ ê´€ê³„ ë° ë…ì„œ ì´ë ¥ ì •ì˜
MATCH (s:Person {name: 'Sally'}), (j:Person {name: 'John'}), (b:Book {title: 'Graph Database'})
CREATE (s)-[:FRIEND_OF {since: 1357718400}]->(j)
CREATE (s)-[:HAS_READ {rating: 4}]->(b)
CREATE (j)-[:HAS_READ {rating: 5}]->(b)

// 'Sally'ê°€ ì½ì€ ëª¨ë“  ì±…ì˜ ì œëª© ì¡°íšŒ
MATCH (p:Person {name: 'Sally'})-[:HAS_READ]->(book)
RETURN book.title
```
<img width="1237" height="788" alt="ê·¸ë¦¼1" src="https://github.com/user-attachments/assets/e803bb08-8003-4b8e-82a0-6871689bea57" />


## ğŸ“‚ 4. ë¦¬íŒ©í† ë§ ì‹¤ìŠµ

ì „í†µì ì¸ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤(RDBMS)ì˜ í…Œì´ë¸” êµ¬ì¡°ë¥¼ ê·¸ë˜í”„ ë°ì´í„°ë² ì´ìŠ¤(Neo4j)ì˜ ë…¸ë“œì™€ ê´€ê³„ ëª¨ë¸ë¡œ ë³€í™˜í•˜ëŠ” ê³¼ì •ì„ ì •ë¦¬í•©ë‹ˆë‹¤.

---

## 1ë‹¨ê³„: RDBMS ì„¤ê³„ (Before)
ê´€ê³„í˜• ëª¨ë¸ì—ì„œëŠ” entity ê°„ì˜ ê´€ê³„ë¥¼ í‘œí˜„í•˜ê¸° ìœ„í•´ **ì™¸ë˜í‚¤(Foreign Key)**ì™€ **join í…Œì´ë¸”**ì„ ì‚¬ìš©

### ğŸ“Š Entity ë° ê´€ê³„ í…Œì´ë¸”

**[User í…Œì´ë¸”]** ì‚¬ìš©ìì˜ ì •ë³´ë¥¼ ì €ì¥

| ID (PK) | Name |
| :--- | :--- |
| 1 | Sally |
| 2 | John |

**[Product í…Œì´ë¸”]** íŒë§¤ë˜ëŠ” ìƒí’ˆ ì •ë³´ë¥¼ ì €ì¥

| ID (PK) | P_Name |
| :--- | :--- |
| 101 | MacBook |
| 102 | iPhone |

**[Purchase í…Œì´ë¸” (Join Table)]** ëˆ„ê°€ ë¬´ì—‡ì„ ìƒ€ëŠ”ì§€ ì—°ê²°í•˜ëŠ” ì¤‘ê°„ í…Œì´ë¸”.
**User_ID**ì™€ **Product_ID** ì¤‘ìš”

| User_ID (FK) | Product_ID (FK) | Date |
| :--- | :--- | :--- |
| 1 | 101 | 2026-02-28 |
| 2 | 102 | 2026-02-27 |



---

## 2ë‹¨ê³„: GraphDB ì „í™˜
í‘œ(Table) í˜•íƒœì˜ ë°ì´í„°ë¥¼ ì„ ê³¼ ì (Graph)ì˜ í˜•íƒœë¡œ ì¬êµ¬ì„±í•˜ëŠ” ë¦¬íŒ©í† ë§ ë§¤í•‘ ë¡œì§ì…ë‹ˆë‹¤.

### ğŸ› ï¸ ë§¤í•‘ ê·œì¹™
1. **User í–‰ â†’ `(:User)` ë…¸ë“œ**
2. **Product í–‰ â†’ `(:Product)` ë…¸ë“œ**
3. **Purchase í–‰ â†’ ì‚­ì œí•˜ê³  ê´€ê³„ë¡œ ì—°ê²°
   - ì¤‘ë³µë˜ëŠ” ID ì¤‘ì‹¬ì˜ Join í…Œì´ë¸”ì€ **ì‚­ì œ**
   - ëŒ€ì‹  ë‘ ë…¸ë“œ ì‚¬ì´ì— ì§ì ‘ì ì¸ **Relationship**ì„ ì—°ê²°
   - `Date`ì™€ ê°™ì€ ìƒì„¸ ì •ë³´ëŠ” ê´€ê³„ì˜ **ì†ì„±(Property)**ìœ¼ë¡œ ì €ì¥

---

## 3ë‹¨ê³„: ì‹¤ì œ Cypher ì½”ë“œë¡œ êµ¬í˜„ (After)

### ğŸ“ ë°ì´í„° ìƒì„± ë° ì—°ê²°
```cypher
// 1. ë…¸ë“œ ìƒì„±
CREATE (u1:User {id: 1, name: 'Sally'})
CREATE (u2:User {id: 2, name: 'John'})
CREATE (p1:Product {id: 101, name: 'MacBook'})
CREATE (p2:Product {id: 102, name: 'iPhone'})

// 2. ê´€ê³„ ìƒì„± (RDBMSì˜ ì™¸ë˜í‚¤ë¥¼ í™”ì‚´í‘œë¡œ ë¦¬íŒ©í† ë§)
MATCH (u:User {id: 1}), (p:Product {id: 101})
CREATE (u)-[:PURCHASED {date: '2026-02-28'}]->(p)

MATCH (u:User {id: 2}), (p:Product {id: 102})
CREATE (u)-[:PURCHASED {date: '2026-02-27'}]->(p)

```

<img width="520" height="622" alt="ê·¸ë¦¼2" src="https://github.com/user-attachments/assets/9b1388cc-0299-4e1d-8690-05b1f0733691" />

